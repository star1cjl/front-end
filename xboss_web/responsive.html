<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Examples</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="" rel="stylesheet">
    <script type="text/javascript" src="js/jquery-1.12.4.min.js"></script>
</head>

<body>
    <script type="text/javascript">
    window.Q = window.Q || {};
    Q.$ = jQuery;
    Q.PageInfo = Q.PageInfo || {};
    Q.PageInfo.respInfo = {
        "cnf": [{
            "layout": 0,
            "cls": "qypage-980",
            "range": {
                "min": 0,
                "max": 1179
            },
            "extraInfo": {
                "digitalSlide": 7,
                "playListViewCount": 4,
                "actorTotal": 5,
                "actorHideNum": 4,
                "rightWrapHeight": 417
            },
            "viewHeight": 160
        }, {
            "layout": 1,
            "cls": "qypage-1180",
            "range": {
                "min": 1180,
                "max": 1439
            },
            "extraInfo": {
                "digitalSlide": 9,
                "playListViewCount": 5,
                "actorTotal": 5,
                "actorHideNum": 3,
                "rightWrapHeight": 530
            },
            "viewHeight": 200
        }, {
            "layout": 2,
            "cls": "qypage-1440",
            "range": {
                "min": 1440,
                "max": 1679
            },
            "extraInfo": {
                "digitalSlide": 9,
                "playListViewCount": 5,
                "actorTotal": 5,
                "actorHideNum": 3,
                "rightWrapHeight": 530
            },
            "viewHeight": 240
        }, {
            "layout": 3,
            "cls": "qypage-1680",
            "range": {
                "min": 1680,
                "max": 20000
            },
            "extraInfo": {
                "digitalSlide": 11,
                "playListViewCount": 6,
                "actorTotal": 5,
                "actorHideNum": 2,
                "rightWrapHeight": 631
            },
            "viewHeight": 240
        }],
        "curLayout": 0
    };

    (function() {
        var body = Q.$('body');
        var width = Q.$(window).width();
        if (Q && Q.PageInfo && Q.PageInfo.respInfo) {
            var cnf = Q.PageInfo.respInfo.cnf;
            body.removeClass(cnf[Q.PageInfo.respInfo.curLayout].cls);
            for (var i = 0; i < cnf.length; i++) {
                if (width >= cnf[i].range.min && width <= cnf[i].range.max && !body.hasClass(cnf[i].cls)) {
                    body.addClass(cnf[i].cls);
                    Q.PageInfo.respInfo.curLayout = cnf[i].layout;
                    break;
                }
            }
        }
    })();

    var PageSizeListener = {
        init: function() {
            function getSize() {
                var e = Q.$(window).width(),
                    t = Q.$(window).height();
                return {
                    width: e,
                    height: t
                }
            }
            var t = null;
            this._size = getSize();
            var n = this;
            Q.$(window).on("resize", function() {
                t && clearTimeout(t), t = setTimeout(function() {
                    var t = getSize();
                    (n._size.width !== t.width || n._size.height !== t.height) && (n._size = t, Q.$(window).trigger("sizeChange", {
                        data: {
                            size: t
                        }
                    }))
                }, 100)
            }).on("sizeChange", function(ev, e) {
                n.sizeChangeHandler(e.data.size)
            });
        },
        get: function() {
            return this._size
        },
        sizeChangeHandler: function(n) {
            Q.PageInfo = Q.PageInfo || {};
            var e = Q.PageInfo.respInfo,
                t = Q.$("body");
            n = n || r.get();
            for (var a = e.cnf, o = 0; o < a.length; o++) {
                var l = n.width;
                if (l >= a[o].range.min && l <= a[o].range.max && !t.hasClass(a[o].cls)) {
                    t.removeClass(a[e.curLayout].cls), t.addClass(a[o].cls), e.curLayout = a[o].layout;
                    break
                }
            }
        }
    }

    PageSizeListener.init();
    Q.$(window).on("sizeChange", function(ev, e) {
        console.log("custom handler");
    });
    </script>
    <style type="text/css">
    .pie3 {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        background: yellowgreen;
        background-image: linear-gradient(to right, transparent 50%, currentColor 0);
        color: #655;
    }
    
    .pie3::before {
        content: '';
        display: block;
        margin-left: 50%;
        height: 100%;
        border-radius: 0 100% 100% 0 / 50%;
        background-color: inherit;
        transform-origin: left;
        animation: spin 3s linear infinite, bg 6s step-end infinite;
    }
    
    @keyframes spin {
        to {
            transform: rotate(.5turn);
        }
    }
    
    @keyframes bg {
        50% {
            background: currentColor;
        }
    }
    </style>
    <div class="pie3"></div>
    <style type="text/css">
    body {
        margin: 0;
        padding: 0;
    }
    
    .full-box {
        display: none;
        background-color: #010101;
        position: absolute;
        text-align: center;
        width: 100%;
        overflow: hidden;
        z-index: 90;
    }
    </style>
    <div id="adflash" class="full-box"></div>
    <script type="text/javascript">
    var focusAd = {
        w: 1004,
        h: 410,
        adUrl: "http://r1.ykimg.com/material/0A03/201608/0818/117432/1300470.swf?jsStart=&jsEnd=execHtmlEndCMDfortaobao&url=http://val.atm.youku.com/c?id=9512"
    };

    function openFocusAd() {
        var adHtml = getFlashStr(focusAd.w, focusAd.h, focusAd.adUrl);
        document.getElementById("adflash").innerHTML = adHtml;
        document.getElementById("adflash").style.display = "block";
    }

    function closeFocusAd() {
        document.getElementById("adflash").style.display = "none";
        document.getElementById("adflash").innerHTML = ""
    }

    function getFlashStr(width, height, adUrl) {
        var str = '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"';
        str += 'width="' + width + '" height="' + height + '" align="middle" id="' + Math.random() + '">';
        str += '<param name="movie" value="' + adUrl + '" />';
        str += '<param name="quality" value="high" />';
        str += '<param name="wmode" value="transparent" />';
        str += '<param name="allowscriptaccess" value="always" />';
        str += '<embed src="' + adUrl + '" quality="high" width="' + width + '" height="' + height + '" align="middle" wmode="transparent" allowscriptaccess="always" type="application/x-shockwave-flash" /></object>';
        return str
    };

    openFocusAd();
    setTimeout(closeFocusAd, 1e4);
    </script>
</body>

</html>
